(()=>{"use strict";var e,t={596:(e,t)=>{var o;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.RocketMouseRun="rocket-mouse-run",e.RocketFlamesOn="rocket-flames-on",e.RocketFlamesFall="rocket-flames-fall",e.RocketFlamesFly="rocket-flames-fly",e.RocketMouseDead="rocket-mouse-dead"}(o||(o={})),t.default=o},771:(e,t)=>{var o;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.Preloader="preloader",e.Game="game",e.GameOver="game-over"}(o||(o={})),t.default=o},242:(e,t)=>{var o;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.Background="background",e.MouseHole="mouse-hole",e.Window1="window-1",e.Window2="window-2",e.Bookcase1="bookcase-1",e.Bookcase2="bookcase-2",e.LaserEnd="laser-end",e.LaserMiddle="laser-middle",e.RocketMouse="rocket-mouse",e.Coin="coin"}(o||(o={})),t.default=o},607:(e,t,o)=>{o(260);var s=o(861),a=o(794),i=o(964);console.log("mode: ".concat("production"));var n={type:Phaser.AUTO,width:800,height:640,physics:{default:"arcade",arcade:{gravity:{y:200},debug:!1}},scene:[i.default,s.default,a.default]};new Phaser.Game(n)},915:function(e,t,o){var s,a=this&&this.__extends||(s=function(e,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},s(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(t,"__esModule",{value:!0});var i=o(260),n=o(242),r=function(e){function t(t,o,s){var a=e.call(this,t,o,s)||this,i=t.add.image(0,0,n.default.LaserEnd).setOrigin(.5,0),r=t.add.image(0,i.y+i.displayHeight,n.default.LaserMiddle).setOrigin(.5,0);r.setDisplaySize(r.width,100);var c=t.add.image(0,r.y+r.displayHeight,n.default.LaserEnd).setOrigin(.5,0).setFlipY(!0);a.add(i),a.add(r),a.add(c),t.physics.add.existing(a,!0);var l=a.body,u=i.displayWidth,d=i.displayHeight+r.displayHeight+c.displayHeight;return l.setSize(u,d),l.setOffset(.5*-u,0),l.position.x=a.x+l.offset.x,l.position.y=a.y,a}return a(t,e),t}(i.GameObjects.Container);t.default=r},377:function(e,t,o){var s,a=this&&this.__extends||(s=function(e,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},s(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(t,"__esModule",{value:!0});var i,n=o(260),r=o(596),c=o(242);!function(e){e[e.Running=0]="Running",e[e.Killed=1]="Killed",e[e.Dead=2]="Dead"}(i||(i={}));var l=function(e){function t(t,o,s){var a=e.call(this,t,o,s)||this;a.mouseState=i.Running,a.emitter=new n.Events.EventEmitter,a.mouse=t.add.sprite(0,0,c.default.RocketMouse).setOrigin(.5,1).play(r.default.RocketMouseRun),a.flames=t.add.sprite(-63,-15,c.default.RocketMouse).play(r.default.RocketFlamesOn),a.createAnimations(),a.enableJetpack(!1),a.add(a.flames),a.add(a.mouse),t.physics.add.existing(a);var l=a.body;return l.setSize(1.4*a.mouse.width,a.mouse.height),l.setOffset(-.8*a.mouse.width,-a.mouse.height-20),a.cursors=t.input.keyboard.createCursorKeys(),a}return a(t,e),t.prototype.createAnimations=function(){this.mouse.anims.create({key:r.default.RocketMouseRun,frames:this.mouse.anims.generateFrameNames(c.default.RocketMouse,{prefix:"rocketmouse_run",zeroPad:2,start:1,end:4,suffix:".png"}),frameRate:10,repeat:-1}),this.mouse.anims.create({key:r.default.RocketFlamesFall,frames:[{key:c.default.RocketMouse,frame:"rocketmouse_fall01.png"}]}),this.mouse.anims.create({key:r.default.RocketFlamesFly,frames:[{key:c.default.RocketMouse,frame:"rocketmouse_fly01.png"}]}),this.mouse.anims.create({key:r.default.RocketFlamesOn,frames:this.mouse.anims.generateFrameNames(c.default.RocketMouse,{start:1,end:2,prefix:"flame",suffix:".png"}),frameRate:10,repeat:-1}),this.mouse.anims.create({key:r.default.RocketMouseDead,frames:this.mouse.anims.generateFrameNames(c.default.RocketMouse,{prefix:"rocketmouse_dead",zeroPad:2,start:1,end:2,suffix:".png"}),frameRate:10})},t.prototype.preUpdate=function(){var e,t=this.body;switch(this.mouseState){case i.Running:(null===(e=this.cursors.space)||void 0===e?void 0:e.isDown)?(t.setAccelerationY(-600),this.enableJetpack(!0),this.mouse.play(r.default.RocketFlamesFly,!0)):(t.setAccelerationY(0),this.enableJetpack(!1)),t.blocked.down?this.mouse.play(r.default.RocketMouseRun,!0):t.velocity.y>0&&this.mouse.play(r.default.RocketFlamesFall,!0);break;case i.Killed:t.velocity.x*=.98,t.velocity.x<=5&&(this.mouseState=i.Dead,this.emitter.emit("dead"));break;case i.Dead:t.setVelocity(0,0)}},t.prototype.enableJetpack=function(e){this.flames.setVisible(e)},t.prototype.kill=function(){if(this.mouseState===i.Running){this.mouseState=i.Killed,this.mouse.play(r.default.RocketMouseDead);var e=this.body;e.setAccelerationY(0),e.setVelocity(1e3,0),this.enableJetpack(!1)}},t}(n.GameObjects.Container);t.default=l},794:function(e,t,o){var s,a=this&&this.__extends||(s=function(e,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},s(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(t,"__esModule",{value:!0});var i=o(260),n=o(771),r=function(e){function t(){return e.call(this,n.default.GameOver)||this}return a(t,e),t.prototype.create=function(){var e=this,t=this.scale,o=.5*t.width,s=.5*t.height;this.add.text(o,s,"Press SPACE to Play Again",{fontSize:"32px",color:"#FFFFFF",backgroundColor:"#000000",shadow:{fill:!0,blur:0,offsetY:0},padding:{left:15,right:15,top:10,bottom:10}}).setOrigin(.5),this.input.keyboard.once("keydown-SPACE",(function(){e.scene.stop(n.default.GameOver),e.scene.stop(n.default.Game),e.scene.start(n.default.Game)}))},t}(i.Scene);t.default=r},861:function(e,t,o){var s,a=this&&this.__extends||(s=function(e,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},s(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(t,"__esModule",{value:!0});var i=o(260),n=o(771),r=o(242),c=o(915),l=o(377),u=function(e){function t(){var t=e.call(this,n.default.Game)||this;return t.bookcases=[],t.windows=[],t.score=0,t}return a(t,e),t.prototype.init=function(){this.score=0},t.prototype.create=function(){var e=this,t=this.scale.width,o=this.scale.height;this.background=this.add.tileSprite(0,0,t,o,r.default.Background).setOrigin(0,0).setScrollFactor(0,0),this.mouseHole=this.add.image(i.Math.Between(900,1500),501,r.default.MouseHole),this.window1=this.add.image(i.Math.Between(900,1300),200,r.default.Window1),this.window2=this.add.image(i.Math.Between(1600,2e3),200,r.default.Window2),this.windows=[this.window1,this.window2],this.bookcase1=this.add.image(i.Math.Between(2200,2700),580,r.default.Bookcase1).setOrigin(.5,1),this.bookcase2=this.add.image(i.Math.Between(2900,3200),580,r.default.Bookcase2).setOrigin(.5,1),this.bookcases=[this.bookcase1,this.bookcase2],this.laserObstacle=new c.default(this,900,100),this.add.existing(this.laserObstacle),this.coins=this.physics.add.staticGroup(),this.spawnCoins(),this.mouse=new l.default(this,.5*t,o-30),this.add.existing(this.mouse),this.mouse.emitter.once("dead",(function(){e.scene.run(n.default.GameOver)}));var s=this.mouse.body;s.setCollideWorldBounds(!0),s.setVelocityX(200),this.physics.world.setBounds(0,0,Number.MAX_SAFE_INTEGER,o-55),this.cameras.main.startFollow(this.mouse),this.cameras.main.setBounds(0,0,Number.MAX_SAFE_INTEGER,o),this.physics.add.overlap(this.laserObstacle,this.mouse,(function(){return e.handleOverlapLaser(e.laserObstacle,e.mouse)}),void 0,this),this.coins.children.each((function(t){return e.physics.add.overlap(t,e.mouse,(function(){return e.handleCollectCoin(t,e.mouse)}),void 0,e),!0})),this.scoreLabel=this.add.text(10,10,"Score: ".concat(this.score),{fontSize:"24px",color:"#080808",backgroundColor:"#F8E71C",shadow:{fill:!0,blur:0,offsetY:0},padding:{left:15,right:15,top:10,bottom:10}}).setScrollFactor(0)},t.prototype.update=function(e,t){this.wrapMouseHole(),this.wrapWindows(),this.wrapBookcases(),this.wrapLaserObstacle(),this.background.setTilePosition(this.cameras.main.scrollX),this.teleportBackwards()},t.prototype.spawnCoins=function(){var e=this;this.coins.children.each((function(t){var o=t;return e.coins.killAndHide(o),o.body.enable=!1,!0}));for(var t=this.cameras.main.scrollX+this.scale.width+100,o=i.Math.Between(1,20),s=0;s<o;++s){var a=this.coins.get(t,i.Math.Between(100,this.scale.height-100),r.default.Coin);a.setVisible(!0),a.setActive(!0);var n=a.body;n.setCircle(.5*n.width),n.enable=!0,n.updateFromGameObject(),t+=1.5*a.width}},t.prototype.handleOverlapLaser=function(e,t){this.mouse.kill()},t.prototype.handleCollectCoin=function(e,t){var o=e;this.coins.killAndHide(o),o.body.enable=!1,this.score+=1,this.scoreLabel.text="Score: ".concat(this.score)},t.prototype.wrapMouseHole=function(){var e=this.cameras.main.scrollX,t=e+this.scale.width;this.mouseHole.x+this.mouseHole.width<e&&(this.mouseHole.x=i.Math.Between(t+100,t+1e3))},t.prototype.wrapWindows=function(){var e=this,t=this.cameras.main.scrollX,o=t+this.scale.width,s=2*this.window1.width;if(this.window1.x+s<t){this.window1.x=i.Math.Between(o+s,o+s+800);var a=this.bookcases.find((function(t){return Math.abs(e.window1.x-t.x)<=e.window1.width}));this.window1.visible=!a}s=this.window2.width,this.window2.x+s<t&&(this.window2.x=i.Math.Between(this.window1.x+s,this.window1.x+s+800),a=this.bookcases.find((function(t){return Math.abs(e.window2.x-t.x)<=e.window2.width})),this.window2.visible=!a)},t.prototype.wrapBookcases=function(){var e=this,t=this.cameras.main.scrollX,o=t+this.scale.width,s=2*this.bookcase1.width;if(this.bookcase1.x+s<t){this.bookcase1.x=i.Math.Between(o+s,o+s+800);var a=this.windows.find((function(t){return Math.abs(e.bookcase1.x-t.x)<=t.width}));this.bookcase1.visible=!a}s=this.bookcase2.width,this.bookcase2.x+s<t&&(this.bookcase2.x=i.Math.Between(this.bookcase1.x+s,this.bookcase1.x+s+800),a=this.windows.find((function(t){return Math.abs(e.bookcase2.x-t.x)<=t.width})),this.bookcase2.visible=!a)},t.prototype.wrapLaserObstacle=function(){var e=this.cameras.main.scrollX,t=e+this.scale.width,o=this.laserObstacle.body,s=o.width;this.laserObstacle.x+s<e&&(this.laserObstacle.x=i.Math.Between(t+s,t+s+1e3),this.laserObstacle.y=i.Math.Between(0,300),o.position.x=this.laserObstacle.x+o.offset.x,o.position.y=this.laserObstacle.y)},t.prototype.teleportBackwards=function(){var e=this.cameras.main.scrollX,t=2380;e>t&&(this.mouse.x-=t,this.mouseHole.x-=t,this.windows.forEach((function(e){e.x-=t})),this.bookcases.forEach((function(e){e.x-=t})),this.laserObstacle.x-=t,this.laserObstacle.body.x-=t,this.spawnCoins(),this.coins.children.each((function(e){var o=e;if(o.active)return o.x-=t,o.body.updateFromGameObject(),!0})))},t}(i.Scene);t.default=u},964:function(e,t,o){var s,a=this&&this.__extends||(s=function(e,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},s(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(t,"__esModule",{value:!0});var i=o(260),n=o(771),r=o(242),c=function(e){function t(){var t=e.call(this,n.default.Preloader)||this;return console.log("mode: ".concat("production")),t}return a(t,e),t.prototype.preload=function(){this.load.image(r.default.Background,"./assets/images/house/bg_repeat_340x640.png"),this.load.image(r.default.MouseHole,"./assets/images/house/object_mousehole.png"),this.load.image(r.default.Window1,"./assets/images/house/object_window1.png"),this.load.image(r.default.Window2,"./assets/images/house/object_window2.png"),this.load.image(r.default.Bookcase1,"./assets/images/house/object_bookcase1.png"),this.load.image(r.default.Bookcase2,"./assets/images/house/object_bookcase2.png"),this.load.atlas(r.default.RocketMouse,"./assets/images/characters/rocket-mouse.png","./assets/images/characters/rocket-mouse.json"),this.load.image(r.default.LaserEnd,"./assets/images/house/object_laser_end.png"),this.load.image(r.default.LaserMiddle,"./assets/images/house/object_laser.png"),this.load.image(r.default.Coin,"./assets/images/house/object_coin.png")},t.prototype.create=function(){this.scene.start(n.default.Game)},t}(i.Scene);t.default=c}},o={};function s(e){var a=o[e];if(void 0!==a)return a.exports;var i=o[e]={exports:{}};return t[e].call(i.exports,i,i.exports,s),i.exports}s.m=t,e=[],s.O=(t,o,a,i)=>{if(!o){var n=1/0;for(u=0;u<e.length;u++){for(var[o,a,i]=e[u],r=!0,c=0;c<o.length;c++)(!1&i||n>=i)&&Object.keys(s.O).every((e=>s.O[e](o[c])))?o.splice(c--,1):(r=!1,i<n&&(n=i));if(r){e.splice(u--,1);var l=a();void 0!==l&&(t=l)}}return t}i=i||0;for(var u=e.length;u>0&&e[u-1][2]>i;u--)e[u]=e[u-1];e[u]=[o,a,i]},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={179:0};s.O.j=t=>0===e[t];var t=(t,o)=>{var a,i,[n,r,c]=o,l=0;if(n.some((t=>0!==e[t]))){for(a in r)s.o(r,a)&&(s.m[a]=r[a]);if(c)var u=c(s)}for(t&&t(o);l<n.length;l++)i=n[l],s.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return s.O(u)},o=self.webpackChunkphaser3_webpack_starter_ts=self.webpackChunkphaser3_webpack_starter_ts||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})();var a=s.O(void 0,[426],(()=>s(607)));a=s.O(a)})();